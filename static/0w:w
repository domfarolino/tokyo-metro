import { readFile } from 'node:fs/promises';

async function generateNormalizedCoordinates() {
  const returnCoords = [];
  const file = JSON.parse(await readFile('test.json', 'utf8'));

  let min_X = Infinity,
      max_X = -Infinity,
      min_Y = Infinity,
      max_Y = -Infinity;

  for (const feature of file['features']) {
    const geometry_type = feature['geometry']['type'];

    let coordinates = feature['geometry']['coordinates'];
    if (geometry_type === 'Polygon') {
      // For some reason `Polygon` coordinates are packaged like this.
      coordinates = coordinates[0];
    } else if (geometry_type === 'LineString') {
      // Do nothing to re-package coordinates of the `LineString`.
    } else if ('Point') {
      coordinates = [coordinates];
    }

    for (const [latitude, longitude] of coordinates) {
      min_X = Math.min(min_X, longitude);
      max_X = Math.max(max_X, longitude);

      min_Y = Math.min(min_Y, latitude);
      max_Y = Math.max(max_Y, latitude);
    }
  }

  console.log('min_X', min_X);
  console.log('max_X', max_X);
  console.log('min_Y', min_Y);
  console.log('may_Y', max_Y);
}

await generateNormalizedCoordinates();
